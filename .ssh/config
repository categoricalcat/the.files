# Include additional config files
Include config.d/*

# Global performance settings for all hosts
Host *
    AddKeysToAgent 900

    ControlMaster auto
    ControlPath ~/.ssh/sockets/%r@%h-%p
    ControlPersist 600
    
    # Keep connections alive
    ServerAliveInterval 60
    ServerAliveCountMax 5
    
    # Faster cipher and MAC algorithms
    Ciphers aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr
    MACs umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com
    
    # Compression for slower networks (disable for fast LANs)
    Compression no
    
    # Faster key exchange algorithms
    KexAlgorithms curve25519-sha256,curve25519-sha256@libssh.org,diffie-hellman-group-exchange-sha256
    
    # Skip host key checking for known hosts (use cautiously)
    StrictHostKeyChecking accept-new
    
    # Reduce connection timeout
    ConnectTimeout 10
    
    # Use persistent connections
    TCPKeepAlive yes
    
    # Enable connection sharing
    ForwardAgent no
    ForwardX11 no

    IdentityFile ~/.ssh/id_ed25519
    ExitOnForwardFailure yes

Host fufud.local
    HostName fuwuqi.local
    User fufud
    Port 24212

Host workd.local
    HostName fuwuqi.local
    User workd
    Port 24212

Host fufud.vpn
    HostName fuwuqi.vpn
    User fufud
    Port 24212

Host workd.vpn
    HostName fuwuqi.vpn
    User workd
    Port 24212

Host macbook
    HostName 192.168.1.28
    User fares

Host ssh.fufu.land
    HostName ssh.fufu.land
    User fufud
    ProxyCommand cloudflared access ssh --hostname %h
    ServerAliveInterval 60
    ServerAliveCountMax 3
